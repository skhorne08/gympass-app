<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#4F46E5">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="GymPass">
  <title>GymPass - Train Anywhere</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    * { -webkit-tap-highlight-color: transparent; }
    body { overscroll-behavior-y: none; margin: 0; }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState } = React;
    const { MapPin, Star, CreditCard, Calendar, User, Clock, Menu, X, LogOut, List, Map } = lucide;

    const GymPassApp = () => {
      const [currentUser, setCurrentUser] = useState(null);
      const [authView, setAuthView] = useState('login');
      const [view, setView] = useState('browse');
      const [selectedGym, setSelectedGym] = useState(null);
      const [selectedDay, setSelectedDay] = useState('Monday');
      const [showMenu, setShowMenu] = useState(false);
      const [viewMode, setViewMode] = useState('list');
      const [userBookings, setUserBookings] = useState([]);
      const [loginEmail, setLoginEmail] = useState('');
      const [loginPassword, setLoginPassword] = useState('');

      const Icon = ({ icon: IconComponent, ...props }) => {
        return React.createElement(IconComponent, props);
      };

      const gyms = [
        {
          id: 1,
          name: 'Barcelona Fight Academy',
          distance: 0.8,
          disciplines: ['BJJ', 'MMA', 'Muay Thai'],
          rating: 4.8,
          reviews: 124,
          credits: 1,
          image: 'ü•ã',
          address: 'Carrer de Val√®ncia, 234',
          headCoach: 'Carlos Silva',
          phone: '+34 123 456 789',
          email: 'info@bcnfight.com',
          schedule: [
            { 
              day: 'Monday', 
              classes: [
                { time: '07:00', name: 'Morning BJJ - Gi', instructor: 'Carlos Silva', credits: 1, level: 'All Levels', id: 1 },
                { time: '12:00', name: 'Lunchtime MMA', instructor: 'Mike Torres', credits: 1, level: 'Intermediate', id: 2 },
                { time: '18:30', name: 'Evening BJJ - No Gi', instructor: 'Ana Martinez', credits: 1, level: 'All Levels', id: 3 }
              ]
            },
            { 
              day: 'Tuesday', 
              classes: [
                { time: '07:00', name: 'Morning Muay Thai', instructor: 'Thai Master Lee', credits: 1, level: 'All Levels', id: 4 },
                { time: '18:30', name: 'BJJ Fundamentals', instructor: 'Carlos Silva', credits: 1, level: 'Beginner', id: 5 }
              ]
            }
          ],
          amenities: ['Showers', 'Changing Rooms', 'Equipment Rental', 'Pro Shop']
        },
        {
          id: 2,
          name: 'Gracie Barra Barcelona',
          distance: 1.2,
          disciplines: ['BJJ'],
          rating: 4.9,
          reviews: 89,
          credits: 1,
          image: 'ü•ã',
          address: 'Avinguda Diagonal, 401',
          headCoach: 'Professor Jo√£o',
          phone: '+34 987 654 321',
          email: 'info@gbbarcelona.com',
          schedule: [
            { 
              day: 'Monday', 
              classes: [
                { time: '07:30', name: 'Fundamentals', instructor: 'Professor Jo√£o', credits: 1, level: 'Beginner', id: 8 },
                { time: '19:00', name: 'All Levels Gi', instructor: 'Professor Jo√£o', credits: 1, level: 'All Levels', id: 9 }
              ]
            }
          ],
          amenities: ['Showers', 'Changing Rooms', 'Free Gi Rental']
        },
        {
          id: 3,
          name: 'Kombat Group BCN',
          distance: 2.1,
          disciplines: ['Muay Thai', 'Boxing'],
          rating: 4.7,
          reviews: 156,
          credits: 1,
          image: 'ü•ä',
          address: 'Carrer de Muntaner, 156',
          headCoach: 'Kru Somchai',
          phone: '+34 555 123 456',
          email: 'info@kombatbcn.com',
          schedule: [
            { 
              day: 'Monday', 
              classes: [
                { time: '08:00', name: 'Morning Muay Thai', instructor: 'Kru Somchai', credits: 1, level: 'All Levels', id: 11 },
                { time: '18:00', name: 'Boxing Fundamentals', instructor: 'Coach Martinez', credits: 1, level: 'Beginner', id: 12 }
              ]
            }
          ],
          amenities: ['Showers', 'Changing Rooms', 'Boxing Ring', 'Heavy Bags']
        }
      ];

      const handleLogin = () => {
        if (loginEmail && loginPassword) {
          setCurrentUser({
            id: 1,
            name: loginEmail.split('@')[0],
            email: loginEmail,
            role: loginEmail.includes('gym') ? 'gym' : 'user',
            credits: 12,
            profilePic: 'üë§',
            discipline: 'BJJ',
            experience: '2 years',
            belt: 'Blue Belt'
          });
        }
      };

      const handleLogout = () => {
        setCurrentUser(null);
        setAuthView('login');
        setView('browse');
        setLoginEmail('');
        setLoginPassword('');
      };

      const bookClass = (gym, classInfo) => {
        if (currentUser.credits >= classInfo.credits) {
          const booking = {
            id: Date.now(),
            gymId: gym.id,
            gymName: gym.name,
            class: classInfo,
            date: 'Today',
            status: 'confirmed'
          };
          setUserBookings([...userBookings, booking]);
          setCurrentUser({...currentUser, credits: currentUser.credits - classInfo.credits});
          alert('Class booked successfully!');
        } else {
          alert('Not enough credits!');
        }
      };

      if (!currentUser) {
        return (
          <div className="h-screen flex items-center justify-center bg-gradient-to-br from-indigo-600 to-indigo-800">
            <div className="bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 mx-4">
              {authView === 'role-select' && (
                <div>
                  <h1 className="text-3xl font-bold text-center mb-2">Welcome to GymPass</h1>
                  <p className="text-gray-600 text-center mb-8">Choose your account type</p>
                  
                  <div className="space-y-4">
                    <button
                      onClick={() => setAuthView('signup-user')}
                      className="w-full bg-indigo-600 text-white py-4 rounded-xl font-semibold hover:bg-indigo-700 flex items-center justify-center gap-3"
                    >
                      <Icon icon={User} className="w-6 h-6" />
                      I'm a User
                    </button>
                    
                    <button
                      onClick={() => setAuthView('signup-gym')}
                      className="w-full bg-gray-100 text-gray-900 py-4 rounded-xl font-semibold hover:bg-gray-200 flex items-center justify-center gap-3"
                    >
                      <Icon icon={MapPin} className="w-6 h-6" />
                      I'm a Gym Owner
                    </button>
                  </div>
                  
                  <button
                    onClick={() => setAuthView('login')}
                    className="w-full mt-6 text-gray-600 text-sm"
                  >
                    Already have an account? <span className="text-indigo-600 font-semibold">Login</span>
                  </button>
                </div>
              )}

              {authView === 'login' && (
                <div>
                  <h1 className="text-3xl font-bold text-center mb-2">Welcome Back</h1>
                  <p className="text-gray-600 text-center mb-8">Login to your account</p>
                  
                  <div className="space-y-4">
                    <div>
                      <label className="block text-sm font-medium text-gray-700 mb-2">Email</label>
                      <input
                        type="email"
                        value={loginEmail}
                        onChange={(e) => setLoginEmail(e.target.value)}
                        className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"
                        placeholder="your@email.com"
                      />
                    </div>
                    
                    <div>
                      <label className="block text-sm font-medium text-gray-700 mb-2">Password</label>
                      <input
                        type="password"
                        value={loginPassword}
                        onChange={(e) => setLoginPassword(e.target.value)}
                        className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"
                        placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                      />
                    </div>
                    
                    <button
                      onClick={handleLogin}
                      className="w-full bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700"
                    >
                      Login
                    </button>
                  </div>
                  
                  <button
                    onClick={() => setAuthView('role-select')}
                    className="w-full mt-6 text-gray-600 text-sm"
                  >
                    Don't have an account? <span className="text-indigo-600 font-semibold">Sign up</span>
                  </button>
                  
                  <p className="text-xs text-gray-500 text-center mt-6">Demo: Use any email (e.g., user@test.com)</p>
                </div>
              )}

              {authView === 'signup-user' && (
                <div>
                  <button onClick={() => setAuthView('role-select')} className="text-gray-600 mb-4">‚Üê Back</button>
                  <h1 className="text-2xl font-bold mb-2">Create User Account</h1>
                  <p className="text-gray-600 mb-6">Start training at gyms near you</p>
                  
                  <div className="space-y-4">
                    <input type="text" placeholder="Full Name" className="w-full px-4 py-3 border border-gray-300 rounded-lg" />
                    <input type="email" placeholder="Email" className="w-full px-4 py-3 border border-gray-300 rounded-lg" />
                    <input type="password" placeholder="Password" className="w-full px-4 py-3 border border-gray-300 rounded-lg" />
                    <select className="w-full px-4 py-3 border border-gray-300 rounded-lg">
                      <option>BJJ</option>
                      <option>MMA</option>
                      <option>Muay Thai</option>
                    </select>
                    <button 
                      onClick={() => {
                        setCurrentUser({
                          id: Date.now(),
                          name: 'Demo User',
                          email: 'user@test.com',
                          role: 'user',
                          credits: 5,
                          profilePic: 'üë§',
                          discipline: 'BJJ',
                          experience: '1 year'
                        });
                      }}
                      className="w-full bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700"
                    >
                      Create Account
                    </button>
                  </div>
                </div>
              )}

              {authView === 'signup-gym' && (
                <div>
                  <button onClick={() => setAuthView('role-select')} className="text-gray-600 mb-4">‚Üê Back</button>
                  <h1 className="text-2xl font-bold mb-2">Create Gym Account</h1>
                  <p className="text-gray-600 mb-6">Join our network</p>
                  
                  <div className="space-y-4">
                    <input type="text" placeholder="Gym Name" className="w-full px-4 py-3 border border-gray-300 rounded-lg" />
                    <input type="text" placeholder="Owner Name" className="w-full px-4 py-3 border border-gray-300 rounded-lg" />
                    <input type="email" placeholder="Email" className="w-full px-4 py-3 border border-gray-300 rounded-lg" />
                    <input type="password" placeholder="Password" className="w-full px-4 py-3 border border-gray-300 rounded-lg" />
                    <button 
                      onClick={() => {
                        setCurrentUser({
                          id: Date.now(),
                          name: 'Demo Gym Owner',
                          email: 'gym@test.com',
                          role: 'gym',
                          gymName: 'Demo Gym',
                          profilePic: 'üèãÔ∏è'
                        });
                      }}
                      className="w-full bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700"
                    >
                      Create Account
                    </button>
                  </div>
                </div>
              )}
            </div>
          </div>
        );
      }

      return (
        <div className="h-screen max-w-md mx-auto bg-white flex flex-col">
          <div className="bg-indigo-600 text-white p-4">
            <div className="flex items-center justify-between">
              <h1 className="text-xl font-bold">GymPass</h1>
              <div className="flex items-center gap-3">
                <div className="bg-white/20 px-3 py-1.5 rounded-full flex items-center gap-1">
                  <Icon icon={CreditCard} className="w-4 h-4" />
                  <span className="text-sm font-semibold">{currentUser.credits} credits</span>
                </div>
                <button onClick={() => setShowMenu(!showMenu)}>
                  <Icon icon={Menu} className="w-6 h-6" />
                </button>
              </div>
            </div>
          </div>

          {showMenu && (
            <div className="absolute inset-0 bg-black/50 z-50" onClick={() => setShowMenu(false)}>
              <div className="absolute right-0 top-0 bottom-0 w-72 bg-white shadow-xl p-6" onClick={(e) => e.stopPropagation()}>
                <div className="flex justify-between mb-6">
                  <h2 className="text-xl font-bold">Menu</h2>
                  <button onClick={() => setShowMenu(false)}>
                    <Icon icon={X} className="w-6 h-6" />
                  </button>
                </div>
                
                <div className="flex items-center gap-3 mb-6 pb-6 border-b">
                  <div className="text-4xl">{currentUser.profilePic}</div>
                  <div>
                    <p className="font-semibold">{currentUser.name}</p>
                    <p className="text-sm text-gray-600">{currentUser.email}</p>
                  </div>
                </div>
                
                <div className="space-y-2">
                  <button onClick={() => { setView('profile'); setShowMenu(false); }} className="w-full text-left px-4 py-3 rounded-lg hover:bg-gray-100 flex items-center gap-3">
                    <Icon icon={User} className="w-5 h-5" />
                    My Profile
                  </button>
                  <button onClick={() => { setView('bookings'); setShowMenu(false); }} className="w-full text-left px-4 py-3 rounded-lg hover:bg-gray-100 flex items-center gap-3">
                    <Icon icon={Calendar} className="w-5 h-5" />
                    My Bookings
                  </button>
                  <button onClick={() => { setView('credits'); setShowMenu(false); }} className="w-full text-left px-4 py-3 rounded-lg hover:bg-gray-100 flex items-center gap-3">
                    <Icon icon={CreditCard} className="w-5 h-5" />
                    Buy Credits
                  </button>
                  <button onClick={handleLogout} className="w-full text-left px-4 py-3 rounded-lg hover:bg-red-50 text-red-600 flex items-center gap-3 mt-4">
                    <Icon icon={LogOut} className="w-5 h-5" />
                    Logout
                  </button>
                </div>
              </div>
            </div>
          )}

          <div className="flex-1 overflow-y-auto">
            {view === 'browse' && (
              <div className="p-4">
                <div className="flex items-center justify-between mb-4">
                  <h2 className="text-lg font-bold">Nearby Gyms</h2>
                  <div className="flex gap-2">
                    <button
                      onClick={() => setViewMode('list')}
                      className={`p-2 rounded-lg ${viewMode === 'list' ? 'bg-indigo-100 text-indigo-600' : 'bg-gray-100'}`}
                    >
                      <Icon icon={List} className="w-5 h-5" />
                    </button>
                    <button
                      onClick={() => setViewMode('map')}
                      className={`p-2 rounded-lg ${viewMode === 'map' ? 'bg-indigo-100 text-indigo-600' : 'bg-gray-100'}`}
                    >
                      <Icon icon={Map} className="w-5 h-5" />
                    </button>
                  </div>
                </div>

                {viewMode === 'map' && (
                  <div className="bg-gray-200 rounded-xl h-64 flex items-center justify-center mb-4">
                    <p className="text-gray-600 text-sm">Map View Coming Soon</p>
                  </div>
                )}

                {gyms.map(gym => (
                  <div key={gym.id} onClick={() => { setSelectedGym(gym); setView('gym-detail'); }} className="bg-white rounded-xl shadow-sm p-4 mb-3 cursor-pointer hover:shadow-md border">
                    <div className="flex gap-3">
                      <div className="text-5xl">{gym.image}</div>
                      <div className="flex-1">
                        <h3 className="font-semibold mb-1">{gym.name}</h3>
                        <div className="flex items-center gap-2 mb-2 text-sm">
                          <Icon icon={Star} className="w-4 h-4 fill-yellow-400 text-yellow-400" />
                          <span className="font-medium">{gym.rating}</span>
                          <span className="text-xs text-gray-500">({gym.reviews})</span>
                          <span className="text-gray-300">‚Ä¢</span>
                          <Icon icon={MapPin} className="w-3 h-3 text-gray-400" />
                          <span className="text-gray-600">{gym.distance} km</span>
                        </div>
                        <div className="flex flex-wrap gap-1 mb-2">
                          {gym.disciplines.map((d, i) => (
                            <span key={i} className="px-2 py-1 bg-indigo-50 text-indigo-700 text-xs rounded-full">{d}</span>
                          ))}
                        </div>
                        <div className="flex items-center gap-1 text-indigo-600">
                          <Icon icon={CreditCard} className="w-4 h-4" />
                          <span className="text-sm font-semibold">{gym.credits} credit/class</span>
                        </div>
                      </div>
                    </div>
                  </div>
                ))}
              </div>
            )}

            {view === 'gym-detail' && selectedGym && (
              <div>
                <div className="bg-gradient-to-br from-indigo-600 to-indigo-800 text-white p-6">
                  <button onClick={() => setView('browse')} className="mb-4 text-sm">‚Üê Back</button>
                  <div className="text-6xl mb-4">{selectedGym.image}</div>
                  <h1 className="text-2xl font-bold mb-2">{selectedGym.name}</h1>
                  <div className="flex items-center gap-2 mb-2 text-sm">
                    <Icon icon={Star} className="w-4 h-4 fill-yellow-400 text-yellow-400" />
                    <span>{selectedGym.rating} ({selectedGym.reviews} reviews)</span>
                  </div>
                  <div className="text-sm opacity-90">{selectedGym.address}</div>
                </div>

                <div className="p-4">
                  <h2 className="text-lg font-bold mb-3">Schedule</h2>
                  <div className="flex gap-2 mb-4 overflow-x-auto">
                    {selectedGym.schedule.map((day) => (
                      <button
                        key={day.day}
                        onClick={() => setSelectedDay(day.day)}
                        className={`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap ${
                          selectedDay === day.day ? 'bg-indigo-600 text-white' : 'bg-gray-100'
                        }`}
                      >
                        {day.day}
                      </button>
                    ))}
                  </div>

                  <div className="space-y-3">
                    {selectedGym.schedule.find(s => s.day === selectedDay)?.classes.map((cls) => (
                      <div key={cls.id} className="bg-white rounded-lg p-4 shadow-sm border">
                        <div className="flex justify-between mb-2">
                          <div className="flex items-center gap-2">
                            <Icon icon={Clock} className="w-5 h-5 text-indigo-600" />
                            <span className="font-bold">{cls.time}</span>
                          </div>
                          <span className="px-2 py-1 bg-blue-50 text-blue-700 rounded-full text-xs">{cls.level}</span>
                        </div>
                        <h3 className="font-semibold mb-1">{cls.name}</h3>
                        <p className="text-sm text-gray-600 mb-3">{cls.instructor}</p>
                        <div className="flex justify-between items-center">
                          <span className="text-indigo-600 font-semibold">{cls.credits} credit</span>
                          <button
                            onClick={() => bookClass(selectedGym, cls)}
                            className="bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-indigo-700"
                          >
                            Book Class
                          </button>
                        </div>
                      </div>
                    ))}
                  </div>
                </div>
              </div>
            )}

            {view === 'profile' && (
              <div className="p-6">
                <h1 className="text-2xl font-bold mb-6">My Profile</h1>
                <div className="bg-white rounded-xl shadow-sm p-6 border">
                  <div className="flex items-center gap-4 mb-6">
                    <div className="text-6xl">{currentUser.profilePic}</div>
                  </div>
                  
                  <div className="space-y-4">
                    <div>
                      <label className="text-sm font-medium text-gray-600">Name</label>
                      <p className="text-lg font-semibold">{currentUser.name}</p>
                    </div>
                    <div>
                      <label className="text-sm font-medium text-gray-600">Email</label>
                      <p className="text-lg">{currentUser.email}</p>
                    </div>
                    <div>
                      <label className="text-sm font-medium text-gray-600">Discipline</label>
                      <p className="text-lg">{currentUser.discipline}</p>
                    </div>
                  </div>
                </div>
              </div>
            )}

            {view === 'bookings' && (
              <div className="p-6">
                <h1 className="text-2xl font-bold mb-6">My Bookings</h1>
                {userBookings.length === 0 ? (
                  <div className="text-center py-12">
                    <Icon icon={Calendar} className="w-16 h-16 text-gray-300 mx-auto mb-4" />
                    <p className="text-gray-600 mb-4">No bookings yet</p>
                    <button onClick={() => setView('browse')} className="text-indigo-600 font-medium">
                      Browse Gyms
                    </button>
                  </div>
                ) : (
                  <div className="space-y-3">
                    {userBookings.map(booking => (
                      <div key={booking.id} className="bg-white rounded-xl shadow-sm p-4 border">
                        <div className="flex justify-between mb-2">
                          <h3 className="font-bold">{booking.gymName}</h3>
                          <span className="px-2 py-1 bg-green-50 text-green-700 rounded-full text-xs">
                            Confirmed
                          </span>
                        </div>
                        <p className="text-gray-700 mb-1">{booking.class.name}</p>
                        <div className="flex gap-4 text-sm text-gray-600">
                          <span>{booking.date}</span>
                          <span>{booking.class.time}</span>
                        </div>
                      </div>
                    ))}
                  </div>
                )}
              </div>
            )}

            {view === 'credits' && (
              <div className="p-6">
                <h1 className="text-2xl font-bold mb-6">Buy Credits</h1>
                <div className="space-y-4">
                  <div className="bg-white rounded-xl shadow-sm p-6 border-2 border-indigo-600">
                    <div className="flex justify-between mb-4">
                      <div>
                        <h3 className="text-2xl font-bold">10 Credits</h3>
                        <p className="text-gray-600">Most popular</p>
                      </div>
                      <div className="text-right">
                        <p className="text-3xl font-bold text-indigo-600">‚Ç¨80</p>
                        <p className="text-sm text-gray-600">‚Ç¨8/credit</p>
                      </div>
                    </div>
                    <button className="w-full bg-indigo-600 text-white py-3 rounded-lg font-semibold">
                      Purchase
                    </button>
                  </div>
                </div>
              </div>
            )}
          </div>
        </div>
      );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<GymPassApp />);
  </script>
</body>
</html>
